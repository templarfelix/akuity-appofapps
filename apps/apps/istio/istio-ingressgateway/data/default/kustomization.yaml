apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
- gateway.yaml
- backendconfig.yaml
- frontendconfig.yaml
- ingress.yaml
helmCharts:
- name: gateway
  namespace: istio-gateways
  includeCRDs: true
  releaseName: istio-ingressgateway
  version: 1.18.2
  repo: https://istio-release.storage.googleapis.com/charts
  valuesInline:
    service:
      type: ClusterIP
      annotations:
        cloud.google.com/backend-config: '{"default": "ingress"}'
        cloud.google.com/neg: '{"ingress": true}'